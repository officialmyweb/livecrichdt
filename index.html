<!DOCTYPE html> 
<html lang="en"> 
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, maximum-scale=1.0, user-scalable=no">
    <meta name="viewport" content="width=device-width" />
    <!-- SEO-->
    <meta name="author" content="T20HD Embed" />
    <meta name="designer" content="T20 " />
    <meta name="description" content="Watch Live Streaming T20. No signup required">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.2/plyr.css" />
    <link rel="stylesheet" href="/dist/wmlogo.css" />
    <script src="https://kit.fontawesome.com/bf2610f0a2.js" crossorigin="anonymous"></script>
    <!-- Halfmoon CSS -->
    <link href="https://cdn.jsdelivr.net/gh/halfmoonui/halfmoon@1.0.4/css/halfmoon.min.css" rel="stylesheet" />
    <title>T20HD - Watch Live T20 Free on T20HD </title>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="https://cdn.plyr.io/3.6.2/plyr.polyfilled.js"></script>

    <script>
    document.addEventListener("DOMContentLoaded", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const m3u8Url = urlParams.get('dtv');
        
        if (!m3u8Url) {
            console.error("No m3u8 URL provided");
            return;
        }

        const videoElement = document.querySelector("video");
        const sourceElement = document.createElement("source");
        sourceElement.src = m3u8Url;
        sourceElement.type = "application/x-mpegURL";
        videoElement.appendChild(sourceElement);

        const playerOptions = {};

        if (Hls.isSupported()) {
            var config = {
                maxMaxBufferLength: 100,
            };
            const hls = new Hls(config);
            hls.loadSource(m3u8Url);
            hls.on(Hls.Events.MANIFEST_PARSED, function(event, data) {
                const availableQualities = hls.levels.map(level => level.height);
                playerOptions.quality = {
                    default: availableQualities[0],
                    options: availableQualities,
                    forced: true,
                    onChange: (newQuality) => {
                        hls.levels.forEach((level, index) => {
                            if (level.height === newQuality) {
                                hls.currentLevel = index;
                            }
                        });
                    }
                };
                new Plyr(videoElement, playerOptions);
            });
            hls.attachMedia(videoElement);
            window.hls = hls;
        } else {
            new Plyr(videoElement, playerOptions);
        }
    });
    </script>
</head>
<body class="dark-mode with-custom-scrollbars with-custom-css-scrollbars">
    <video id="player" controls preload="metadata" poster="https://emdftinya.tinyuri.org/wred.php?id=thum" class="plyr">
    </video>
</body>
</html>
